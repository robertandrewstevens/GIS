### R code from vignette source 'vis.Rnw'
# data: 
###################################################
### code chunk number 9: vis.Rnw:180-185 
###################################################

###################################################
### code chunk number 10: vis.Rnw:197-201 
###################################################

###################################################
### code chunk number 11: vis.Rnw:213-218 
###################################################

###################################################
### code chunk number 12: vis.Rnw:230-235 
###################################################

###################################################
### code chunk number 13: vis.Rnw:266-278
###################################################

###################################################
### code chunk number 16: vis.Rnw:353-359 (eval = FALSE)
###################################################

###################################################
### code chunk number 18: vis.Rnw:426-437 (eval = FALSE)
###################################################

###################################################
### code chunk number 20: vis.Rnw:498-507 (eval = FALSE)
###################################################

###################################################
### code chunk number 21: vis.Rnw:537-538
###################################################

###################################################
### code chunk number 22: vis.Rnw:543-567
###################################################

###################################################
### code chunk number 23: vis.Rnw:598-617 (eval = FALSE)
###################################################

###################################################
### code chunk number 24: vis.Rnw:636-638
###################################################

###################################################
### code chunk number 25: vis.Rnw:649-651 (eval = FALSE)
###################################################

###################################################
### code chunk number 26: vis.Rnw:659-660 (eval = FALSE)
###################################################

###################################################
### code chunk number 27: vis.Rnw:676-682 (eval = FALSE)
###################################################

###################################################
### code chunk number 29: vis.Rnw:723-724 (eval = FALSE)
###################################################

###################################################
### code chunk number 30: vis.Rnw:731-732 (eval = FALSE)
###################################################

###################################################
### code chunk number 31: vis.Rnw:780-785
###################################################

###################################################
### code chunk number 32: vis.Rnw:790-814
###################################################

###################################################
### code chunk number 33: vis.Rnw:822-832
###################################################

###################################################
### code chunk number 34: vis.Rnw:837-853
###################################################
print(levelplot(z~x+y|name, spmap.to.lev(zn[c("direct", "log")]), asp = "iso",
        cuts=4, col.regions= brewer.pal(5, "Reds")),
    split = c(1,1,1,2), more = TRUE)
print(spplot(zn[c("direct", "log")], cuts=4,
        col.regions= brewer.pal(5, "Reds")),
		split = c(1,2,1,2))


###################################################
### code chunk number 38: vis.Rnw:997-1014
###################################################

###################################################
### code chunk number 39: vis.Rnw:1025-1051
###################################################

###################################################
### code chunk number 40: vis.Rnw:1098-1105 
###################################################
data(meuse.grid)
coordinates(meuse.grid) <- c("x", "y")
meuse.grid <- as(meuse.grid, "SpatialPixelsDataFrame")
im <- as.image.SpatialGridDataFrame(meuse.grid["dist"])
cl <- ContourLines2SLDF(contourLines(im))
spplot(cl)


###################################################
### code chunk number 41: vis.Rnw:1151-1161
###################################################

###################################################
### code chunk number 43: vis.Rnw:1170-1179
###################################################
grys <- brewer.pal(7, "Reds")
print(spplot(zn["log"], sp.layout = meuse.layout, cuts=5, col.regions=grys))


###################################################
### code chunk number 45: vis.Rnw:1272-1274 (eval = FALSE)
###################################################
methods(fortify)


###################################################
### code chunk number 46: vis.Rnw:1287-1289 (eval = FALSE)
###################################################
m = as(meuse, "data.frame")
ggplot(m, aes(x,y)) + geom_point() + coord_equal()


###################################################
### code chunk number 48: vis.Rnw:1344-1356
###################################################
reds <- brewer.pal(7, "Reds")
p = spplot(meuse["zinc"], cuts = 5, col.regions = reds)
#m = SpatialPolygonsDataFrame(meuse.pol, data.frame(col=1), match.ID = FALSE)
m = SpatialPolygonsDataFrame(meuse.sr, data.frame(col=1), match.ID = FALSE)
l = spplot(m, cuts = 5, col.regions = reds)
print(l + p, more = TRUE, split = c(1,1,2,1))
print(p + l, split = c(2,1,2,1))


###################################################
### code chunk number 49: vis.Rnw:1391-1393 (eval = FALSE)
###################################################
## plot(meuse)
## meuse.id <- identify(coordinates(meuse))


###################################################
### code chunk number 50: vis.Rnw:1403-1410 (eval = FALSE)
###################################################
## plot(meuse)
## region <- locator(type="o")
## n <- length(region$x)
## p <- Polygon(cbind(region$x,region$y)[c(1:n,1),], hole=FALSE)
## ps <- Polygons(list(p), ID = "region")
## sps <- SpatialPolygons(list(ps))
## plot(meuse[sps,], pch=16, cex=.5, add=TRUE)


###################################################
### code chunk number 52: vis.Rnw:1471-1475
###################################################
prj <- CRS("+proj=longlat +datum=NAD27")
nc_shp <- system.file("shapes/sids.shp", package="maptools")[1]
nc <- readShapePoly(nc_shp, proj4string=prj)


###################################################
### code chunk number 53: vis.Rnw:1477-1479 (eval = FALSE)
###################################################
## plot(nc)
## pt <- locator(type="p")


###################################################
### code chunk number 54: vis.Rnw:1481-1484
###################################################
## print(pt)
## pt.sp = SpatialPoints(cbind(pt$x,pt$y),proj4string=prj)
## over(pt.sp, nc)


###################################################
### code chunk number 55: vis.Rnw:1500-1501 (eval = FALSE)
###################################################
## ids <- spplot(meuse, "zinc", identify=TRUE)


###################################################
### code chunk number 56: vis.Rnw:1515-1519 (eval = FALSE)
###################################################
## library(lattice)
## trellis.focus("panel", column = 1, row = 1)
## ids <- panel.identify()
## trellis.unfocus()


###################################################
### code chunk number 57: vis.Rnw:1529-1533 (eval = FALSE)
###################################################
## library(grid)
## trellis.focus("panel", column = 1, row = 1)
## as.numeric(grid.locator())
## trellis.unfocus()


###################################################
### code chunk number 58: vis.Rnw:1575-1577 
###################################################

###################################################
### code chunk number 59: vis.Rnw:1594-1596 (eval = FALSE)
###################################################
## library(RColorBrewer)
## example(brewer.pal)


###################################################
### code chunk number 60: vis.Rnw:1648-1658
###################################################

###################################################
### code chunk number 61: vis.Rnw:1660-1661 (eval = FALSE)
###################################################

###################################################
### code chunk number 62: vis.Rnw:1688-1691
###################################################

###################################################
### code chunk number 63: vis.Rnw:1692-1693 (eval = FALSE)
###################################################

###################################################
### code chunk number 65: vis.Rnw:1722-1745
###################################################

###################################################
### code chunk number 66: vis.Rnw:1765-1769 (eval = FALSE)
###################################################
q5Colours <- findColours(q5, pal)
plot(meuse, col=q5Colours, pch=19)
legend("topleft", fill=attr(q5Colours, "palette"),
 legend=names(attr(q5Colours, "table")), bty="n")


###################################################
### code chunk number 67: vis.Rnw:1816-1818 (eval = FALSE)
###################################################
